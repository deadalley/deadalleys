{{ $isEven := eq (mod .index 2) 0 }}

<div
  class="project-card rounded-2xl overflow-hidden relative grid project-card-grid {{ if not $isEven }}project-card-reverse{{ end }} h-fit">
  <div class="project-card-image h-full">
    <img src="/{{ .project.Params.image }}" alt="{{ .project.Title }}" loading="lazy"
      onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
  </div>
  <div
    class="project-card-content px-4 md:px-16 py-6 md:py-8 flex flex-col justify-start h-full text-left md:{{ if $isEven }}text-left{{ else }}text-right{{ end }}">
    <div class="mb-6 md:mb-8">
      <div class="flex justify-start md:{{ if $isEven }}justify-start{{ else }}justify-end{{ end }}">
        {{ if .project.Params.icon }}
        <img src="/{{ .project.Params.icon }}" alt="{{ .project.Title }} Icon"
          class="w-6 h-6 md:w-8 md:h-8 mr-3 md:mr-4" loading="lazy"
          onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
        {{ end }}
        <h1 class="text-2xl md:text-3xl font-bold">{{ .project.Title }}</h1>
      </div>
      <h5 class="text-sm md:text-base mt-2">{{ .project.Params.description }}</h5>
    </div>
    {{ if or .project.Params.github .project.Params.live_demo }}
    <div
      class="flex flex-col sm:flex-row gap-3 md:gap-4 justify-start md:{{ if $isEven }}justify-start{{ else }}justify-end{{ end }} mb-4 md:mb-0">
      {{ if .project.Params.github }}
      <a href="{{ .project.Params.github }}" target="_blank" class="btn btn-primary text-sm md:text-base">
        <i class="ti ti-brand-github"></i>
        View on GitHub
      </a>
      {{ end }}
      {{ if .project.Params.live_demo }}
      <a href="{{ .project.Params.live_demo }}" target="_blank" class="btn btn-primary text-sm md:text-base">
        <i class="ti ti-external-link"></i>
        View Live Demo
      </a>
      {{ end }}
    </div>
    {{ end }}
    <div class="prose prose-sm max-w-none text-left md:{{ if not $isEven }}text-right{{ else }}text-left{{ end }}"
      style="color: var(--text-primary)">
      {{ .project.Content }}
    </div>

    {{ if .project.Params.technologies }}
    <div class="mt-4 md:mt-6 pt-3 md:pt-4 border-t border-gray-600">
      <div
        class="flex justify-start md:{{ if $isEven }}justify-start{{ else }}justify-end{{ end }} items-center gap-2 md:gap-3 flex-wrap">
        {{ range .project.Params.technologies }}
        <div class="tech-icon text-lg md:text-xl" title="{{ . }}">
          {{ if eq . "nuxt" }}
          <i class="ti ti-brand-nuxt"></i>
          {{ else if eq . "vue" }}
          <i class="ti ti-brand-vue"></i>
          {{ else if eq . "tailwind" }}
          <i class="ti ti-brand-tailwind"></i>
          {{ else if eq . "playwright" }}
          <i class="ti ti-robot"></i>
          {{ else if eq . "electron" }}
          <i class="ti ti-atom"></i>
          {{ else if eq . "react" }}
          <i class="ti ti-brand-react"></i>
          {{ else if eq . "node" }}
          <i class="ti ti-brand-nodejs"></i>
          {{ else if eq . "python" }}
          <i class="ti ti-brand-python"></i>
          {{ else if eq . "javascript" }}
          <i class="ti ti-brand-javascript"></i>
          {{ else if eq . "typescript" }}
          <i class="ti ti-brand-typescript"></i>
          {{ else if eq . "html" }}
          <i class="ti ti-brand-html5"></i>
          {{ else if eq . "css" }}
          <i class="ti ti-brand-css3"></i>
          {{ else if eq . "sass" }}
          <i class="ti ti-brand-sass"></i>
          {{ else if eq . "docker" }}
          <i class="ti ti-brand-docker"></i>
          {{ else if eq . "git" }}
          <i class="ti ti-brand-git"></i>
          {{ else if eq . "github" }}
          <i class="ti ti-brand-github"></i>
          {{ else if eq . "mysql" }}
          <i class="ti ti-database"></i>
          {{ else if eq . "postgresql" }}
          <i class="ti ti-database"></i>
          {{ else if eq . "mongodb" }}
          <i class="ti ti-database"></i>
          {{ else if eq . "raspberry pi" }}
          <i class="ti ti-olympics"></i>
          {{ else if eq . "dump1090" }}
          <i class="ti ti-air-traffic-control"></i>
          {{ else }}
          <i class="ti ti-code"></i>
          {{ end }}
        </div>
        {{ end }}
      </div>
    </div>
    {{ end }}
  </div>
</div>